<ion-header>
  <ion-toolbar color="warning">
    <ion-title>HerOol</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="login-container">
  <div class="logo-section">
    <h1>üîß HerOol</h1>
    <p>Servicios t√©cnicos al alcance</p>
  </div>

  <ion-segment [(ngModel)]="modo" color="warning" class="mode-segment">
    <ion-segment-button value="login">
      <ion-label>Inicia sesi√≥n</ion-label>
    </ion-segment-button>
    <ion-segment-button value="registro">
      <ion-label>Reg√≠strate</ion-label>
    </ion-segment-button>
  </ion-segment>

  <!-- LOGIN -->
  <div *ngIf="modo === 'login'" class="form-container">
    <ion-card>
      <ion-card-content>
        <div class="form-group">
          <label>¬øQu√© eres?</label>
          <ion-segment [(ngModel)]="tipoUsuario" color="warning">
            <ion-segment-button value="cliente">
              <ion-label>Cliente</ion-label>
            </ion-segment-button>
            <ion-segment-button value="tecnico">
              <ion-label>T√©cnico</ion-label>
            </ion-segment-button>
          </ion-segment>
        </div>

        <div class="form-group">
          <label>Email</label>
          <ion-input
            [(ngModel)]="email"
            type="email"
            placeholder="tu@email.com"
            clearInput
          ></ion-input>
        </div>

        <div class="form-group">
          <label>Contrase√±a</label>
          <ion-input
            [(ngModel)]="contrasena"
            type="password"
            placeholder="Contrase√±a"
          ></ion-input>
        </div>

        <div *ngIf="error" class="error-message">
          {{ error }}
        </div>

        <ion-button
          expand="block"
          color="warning"
          (click)="login()"
          [disabled]="cargando"
        >
          <span *ngIf="!cargando">Inicia sesi√≥n</span>
          <span *ngIf="cargando">Cargando...</span>
        </ion-button>
      </ion-card-content>
    </ion-card>
  </div>

  <!-- REGISTRO -->
  <div *ngIf="modo === 'registro'" class="form-container">
    <ion-card>
      <ion-card-content>
        <div class="form-group">
          <label>Tipo de usuario</label>
          <ion-segment [(ngModel)]="tipoUsuario" color="warning">
            <ion-segment-button value="cliente">
              <ion-label>Cliente</ion-label>
            </ion-segment-button>
            <ion-segment-button value="tecnico">
              <ion-label>T√©cnico</ion-label>
            </ion-segment-button>
          </ion-segment>
        </div>

        <div class="form-group">
          <label>Nombre completo</label>
          <ion-input
            [(ngModel)]="nombre"
            type="text"
            placeholder="Tu nombre"
            clearInput
          ></ion-input>
        </div>

        <div class="form-group">
          <label>Email</label>
          <ion-input
            [(ngModel)]="emailReg"
            type="email"
            placeholder="tu@email.com"
            clearInput
          ></ion-input>
        </div>

        <div class="form-group">
          <label>Tel√©fono</label>
          <ion-input
            [(ngModel)]="telefonoReg"
            type="tel"
            placeholder="+34 XXX XXX XXX"
            clearInput
          ></ion-input>
        </div>

        <div class="form-group">
          <label>Contrase√±a</label>
          <ion-input
            [(ngModel)]="contrasenaReg"
            type="password"
            placeholder="M√≠nimo 6 caracteres"
          ></ion-input>
        </div>

        <div class="form-group">
          <label>Confirma contrase√±a</label>
          <ion-input
            [(ngModel)]="contrasenaReg2"
            type="password"
            placeholder="Confirma tu contrase√±a"
          ></ion-input>
        </div>

        <div *ngIf="error" class="error-message">
          {{ error }}
        </div>

        <ion-button
          expand="block"
          color="warning"
          (click)="registro()"
          [disabled]="cargando"
        >
          <span *ngIf="!cargando">Crear cuenta</span>
          <span *ngIf="cargando">Creando...</span>
        </ion-button>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
